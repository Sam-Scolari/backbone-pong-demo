!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).app=e()}(function(){return function r(o,u,a){function i(t,e){if(!u[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(f)return f(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=u[t]={exports:{}},o[t][0].call(n.exports,function(e){return i(o[t][1][e]||e)},n,n.exports,r,o,u,a)}return u[t].exports}for(var f="function"==typeof require&&require,e=0;e<a.length;e++)i(a[e]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=async function(t,n){return{async all(e){return await t.query({lt:"~"},e)},async get(e){return await t.get(e)||null},async del(e){await n({type:"del",key:e})},async set(e){var{key:e,value:t}=e;await n({type:"set",key:e,value:t})},async onAdd(e){return t.onAdd(e)}}}},{}],2:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(n,"__esModule",{value:!0}),r(e("./protocol"))),r=r(e("./api"));n.default={Protocol:o.default,API:r.default}},{"./api":1,"./protocol":3}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=async function(e,t){switch(e.type){case"set":await t.put({key:e.key,value:e.value});break;case"del":await t.get(e.key)&&await t.del(e.key);break;default:return t.discard(e,"unknown operation")}}},{}]},{},[2])(2)});
